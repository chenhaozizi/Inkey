<!--
  Generated template for the AddactivePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title mode="ios">创建{{title}} </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="bgcolor">
 
  <ion-list class="mb5" *ngIf="type">
    <ion-item no-line class="arrow border-none mb0 mt0">
      <ion-grid>
        <ion-row>
          <ion-col col-9 class="pb0">
            <span class="ion-label-sm olor-28 lin50">主题海报</span>
          </ion-col>
          <ion-col class="text-center pb0" col-3>
            <p> <span class="cambox" (click)="avatarChoice(1)" [ngStyle]="{'background-image':'url('+img+')'}"><img
                  *ngIf="!img" src="../../assets/imgs/cam.png" /></span></p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
  <ion-list class="mb0">
    <ion-item no-line class="border-none child-b">
      <ion-input [(ngModel)]="rtitle" class="border-b font-sm" type="text" placeholder="请填写{{title}}标题"></ion-input>
    </ion-item>
    <ion-item no-line class="border-none child-n" [ngClass]="{true:'mb5',false:''}[!type]">
      <ion-textarea class="font-sm" [(ngModel)]="rcont" placeholder="{{cont}}"></ion-textarea>
    </ion-item>
    <p no-line class="border-none myp-input mt0 mb5 bgff" *ngIf="type">
      <ion-icon name="pin"></ion-icon>
      <ion-input class="border-b font-sm w80" [(ngModel)]="raddress" type="text" placeholder="请填写地址"></ion-input>
    </p>
  </ion-list>
  <ion-list class="mb5"  *ngIf="type">
    <ion-item no-line class="arrow border-none mb0 mt0 font-sm pl25">
      <ion-label class="color-28">开始时间</ion-label>
      <ion-datetime displayFormat="YYYY-MM-DD HH:mm" [(ngModel)]="startTime" cancelText="取消" doneText="确认"></ion-datetime>
    </ion-item>
    <ion-item no-line class="arrow mb0 border-none mt0  font-sm pl25">
      <ion-label class="color-28">结束时间</ion-label>
      <ion-datetime displayFormat="YYYY-MM-DD HH:mm" [(ngModel)]="endTime" cancelText="取消" doneText="确认"></ion-datetime>

    </ion-item>
  </ion-list>
  <ion-list>
    <ion-item no-lines class=" mb0 mt0">
      <ion-grid>
        <ion-row>
          <ion-col col-12 class="pb0">
            <span class="ion-label-sm olor-28">图文描述</span>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col *ngFor="let item of piclists,let i =index"  class="text-center imglist " col-4>
            <div class="border pos-rel" style="overflow:visible"  [ngStyle]="{'background-image': 'url('+item+')'}"  [ngClass]="{'loadimg':item=='wait'}" >
                <ion-icon class="delicon pos-ab" (click)='delimg(i)' name="close-circle"></ion-icon>
                <!-- <p *ngIf="item=='wait'"  class='ts'>上传中...</p> -->
            </div>
          </ion-col>
          <ion-col class="text-center imglist  " col-4 (click)="piclist(1)" *ngIf="piclists.length<9" >
            <div class="border " style='opacity: 0.6'>
              <ion-icon name="add" ></ion-icon>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer padding>
  <button ion-button round full color='maincolor' (click)='confirm()'>确定并发布</button>
</ion-footer>
